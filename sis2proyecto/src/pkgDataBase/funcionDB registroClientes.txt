CREATE OR REPLACE FUNCTION registrarcliente(Character Varying, Character Varying, integer) 
RETURNS text AS $$

DECLARE
id_cliente integer;
existe integer;

BEGIN
   existe:=(select count(*) from cliente where cliente.id_cliente=$3 );
   IF existe=0 THEN
    
    insert into cliente(id_cliente,nombre,apellido)values($3,$1,$2);
	id_cliente:=$3;
   ELSE

    	id_cliente:= 0;
   END IF;
   
   return id_cliente;

END;
$$ LANGUAGE plpgsql